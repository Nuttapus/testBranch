<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../node_modules/bulma/css/bulma.min.css" class="rel">
    <link rel="stylesheet" href="../node_modules/bulma-divider/dist/css/bulma-divider.min.css" class="rel">
    <link rel="shortcut icon" href="../img/logo.png" />
    <title>ใบเสร็จรับเงิน</title>
    <style>
        @media print {
            #btnprint {
                display: none;
            }
            #btnback {
                display: none;
            }
            #details {
                margin-left: 2%;
                margin-right: 2%;
            }
        }
        
        @page {
            margin: 0;
        }
    </style>
</head>
<!-- ซื้อ>t ซ่อม>f เดินทะเบียน>f
ใบเสร็จ คู่กับ ใบกำกับภาษี -->

<body>
    <script src="../node_modules/axios/dist/axios.min.js"></script>
    <script>
        var datadetail, datatotalprice;
        window.onload = function() {
            window.open('./ใบกำกับภาษี.html', "_blank")
            var typeReceipt = localStorage.getItem("typereceiptStorage");
            if (typeReceipt === "buy") {
                document.getElementById("typecus").innerHTML = "ผู้ซื้อ : "
                document.getElementById("taxpayerNo").innerHTML = "1234567890123"
                document.getElementById("no").innerHTML = "A100012410"
                document.getElementById("nameCus").innerHTML = localStorage.getItem("namebuyerStorage")
                document.getElementById("typeslot").innerHTML = "เลขบัตรประชาชน : "
                document.getElementById("numberCus").innerHTML = localStorage.getItem("numberbuyerStorage")
                document.getElementById("typeslot2").innerHTML = "ที่อยู่ : "
                document.getElementById("addressCus").innerHTML = localStorage.getItem("addressbuyerStorage")
                document.getElementById("paytype").innerHTML = localStorage.getItem("paytypeStorage")
                document.getElementById("date").innerHTML = localStorage.getItem("dateStorage")
                document.getElementById("totalprice").innerHTML = localStorage.getItem("totalpriceStorage")
                document.getElementById("taxprice").innerHTML = 0;
                document.getElementById("price").innerHTML = localStorage.getItem("totalpriceStorage")
                datadetail = localStorage.getItem("detailStorage");
                datatotalprice = localStorage.getItem("totalpriceStorage");
                document.getElementById("typecus1").innerHTML = "ผู้ซื้อ : _____________________"
                document.getElementById("typeget").innerHTML = "พยาน : _____________________"
                document.getElementById("datetypeget").style.display = "block"
            } else if (typeReceipt === "regis") {
                document.getElementById("typecus").innerHTML = "ผู้รับทะเบียน : "
                document.getElementById("date").innerHTML = localStorage.getItem("dateStorage")
                document.getElementById("nameCus").innerHTML = localStorage.getItem("namecusStorage")
                document.getElementById("taxpayerNo").innerHTML = "1234567890123"
                document.getElementById("no").innerHTML = "D100012410"
                document.getElementById("typeslot").innerHTML = "เบอร์โทรศัพท์ : "
                document.getElementById("numberCus").innerHTML = localStorage.getItem("telcusStorage")
                datadetail = localStorage.getItem("detailStorage");
                document.getElementById("paytype").innerHTML = "เงินสด"
                datatotalprice = "350"
                document.getElementById("totalprice").innerHTML = datatotalprice
                document.getElementById("taxprice").innerHTML = 0;
                document.getElementById("price").innerHTML = datatotalprice
                document.getElementById("typecus1").innerHTML = "ผู้รับทะเบียน : _____________________"
                datadetail = localStorage.getItem("idCar") + " ต่อทะเบียน";
            } else if (typeReceipt === "fix") {

            }
            generate_productList();
        }

        function generate_productList() {
            var table = document.getElementById("productList");
            var newRow = table.insertRow(1);

            var order = newRow.insertCell(0);
            var detail = newRow.insertCell(1);
            var amout = newRow.insertCell(2);
            var price = newRow.insertCell(3);
            var totalprice = newRow.insertCell(4);


            order.innerHTML = "1";
            detail.innerHTML = datadetail
            amout.innerHTML = "1";
            price.innerHTML = datatotalprice
            totalprice.innerHTML = datatotalprice

        }
    </script>
    <br>
    <div class="container" id="details">
        <h1 class="title has-text-centered"> ใบเสร็จรับเงิน </h1>
        <p class="has-text-centered"> บริษัทโชคทวีออโต้เซล </p>
        <br>
        <div class="columns">
            <div class="column">
                <label class="label">เลขประจำตัวผู้เสียภาษีอากร : </label>
                <div class="field-label is-normal">
                </div>
                <div class="field-body">
                    <div class="field">
                        <div class="control">
                            <p id="taxpayerNo"></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="column">
                <label class="label has-text-centered">เลขที่ : </label>
                <div class="field-label is-normal">
                </div>
                <div class="field-body">
                    <div class="field">
                        <div class="control">
                            <p class="has-text-centered" id="no">
                        </div>
                    </div>
                </div>
            </div>

            <div class="column">
                <label class="label has-text-right">วันที่ : </label>
                <div class="field-label is-normal">
                </div>
                <div class="field-body">
                    <div class="field">
                        <div class="control">
                            <p class="has-text-right" id="date">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="columns">
            <div class="column">
                <label class="label" id="typecus"></label>
                <div class="field-label is-normal">
                </div>
                <div class="field-body">
                    <div class="field">
                        <div class="control">
                            <p id="nameCus"></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="column">
                <label class="label" id="typeslot"></label>
                <div class="field-label is-normal">
                </div>
                <div class="field-body">
                    <div class="field">
                        <div class="control">
                            <p id="numberCus"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <label class="label" id="typeslot2"></label>
        <div class="field-body">
            <div class="field">
                <div class="control">
                    <p id="addressCus"></p>
                </div>
            </div>
        </div>
        <br>
        <div class="has-text-centered">
            <table class="table table is-bordered container" id="productList">
                <thead>
                    <tr>
                        <th>ลำดับ</th>
                        <th>รหัสสินค้า/รายละเอียด</th>
                        <th>จำนวน</th>
                        <th>ราคา/หน่วย</th>
                        <th>จำนวนเงิน</th>
                    </tr>
                </thead>
                <tbody>
            </table>
        </div>
        <br><br>
        <label class="label">ชำระโดย :</label>
        <p id="paytype"></p>
        <div>
            <div class="card" style="margin-left:70%">
                <div class="card-content">

                    <div class="level-left">
                        <div class="level-item">
                            <p class="subtitle is-5">
                                <p>ราคารวมทั้งสิ้น</p>
                            </p>
                        </div>
                        <div class="level-item">
                            <div class="field has-addons">
                                <p class="control" id="totalprice">

                                </p>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="level-left">
                        <div class="level-item">
                            <p class="subtitle is-5">
                                <p>ภาษีมูลค่าเพิ่ม</p>
                            </p>
                        </div>
                        <div class="level-item">
                            <div class="field has-addons">
                                <p class="control" id="taxprice">
                                </p>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="level-left">
                        <div class="level-item">
                            <p class="subtitle is-5">
                                <p>จำนวนเงินรวม</p>
                            </p>
                        </div>
                        <div class="level-item">
                            <div class="field has-addons">
                                <p class="control" id="price">

                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <br>
        <div class="level-left">
            <div class="level-item">
                <p class="subtitle is-5">
                    <p>จำนวนเงิน(ตัวอักษร) :</p>
                </p>
            </div>
            <div class="level-item">
                <div class="field has-addons">
                    <p class="control">
                        ____________________________________________________________________________________
                    </p>
                </div>
            </div>
        </div>
        <br>
        <div class="columns">
            <div class="column">
                <div class="field is-horizontal">
                    <label class="label" id="typecus1"></label>
                </div>
            </div>
            <div class="column">
                <div class="field is-horizontal">
                    <label class="label" id="typeget"></label>
                </div>
            </div>
            <div class="column">
                <div class="field is-horizontal">
                    <label class="label">ผู้รับเงิน : _____________________</label>
                    <div class="field-label is-normal">
                    </div>
                </div>
            </div>
        </div>
        <br>
        <div class="columns">
            <div class="column">
                <div class="field is-horizontal">
                    <label class="label">วันที่ : _____________________</label>
                </div>

            </div>
            <div class="column">
                <div class="field is-horizontal">
                    <label class="label" id="datetypeget" style="display:none;">วันที่ : _____________________</label>
                </div>
            </div>
            <div class="column">
                <div class="field is-horizontal">
                    <label class="label">วันที่ : _____________________</label>
                </div>
            </div>
        </div>


        <br>
        <div class="buttons  is-right" style="margin-right:5%">
            <a class="button is-info is-outlined" id="btnprint" style="width:10%" onclick="window.print();">พิมพ์</a>
            <a class="button is-info is-outlined" id="btnback" style="width:10%" onclick="window.close()">ปิด</a>
        </div>
    </div>
</body>

</html>